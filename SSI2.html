<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV Charger Station DID Registration and Verification</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .verified {
            color: green;
        }

        .unverified {
            color: red;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1 class="mt-5">EV Charger Station DID Registration and Verification Simulator</h1>

        <!-- Registration Form -->
        <h2 class="mt-5">Register</h2>
        <form id="registrationForm" class="mt-4">
            <div class="form-group">
                <label for="phoneInput">Enter your phone number:</label>
                <input type="tel" class="form-control" id="phoneInput" placeholder="Enter full phone number">
            </div>
            <div class="form-group">
                <label for="phoneVerificationInput">Enter last 4 digits of your phone number for verification:</label>
                <input type="number" class="form-control" id="phoneVerificationInput" placeholder="Last 4 digits">
            </div>
            <button type="button" class="btn btn-success" onclick="registerUser()">Register</button>
        </form>

        <!-- Registration Status -->
        <div id="registrationStatus" class="mt-3"></div>

        <!-- Verification Form for DID -->
        <!-- <h2 class="mt-5">Verify Your DID</h2>
        <form id="verificationForm" class="mt-4">
            <div class="form-group">
                <label for="didInput">Enter your DID:</label>
                <input type="text" class="form-control" id="didInput" placeholder="did:example:123456789abcdefghi">
            </div>
            <button type="button" class="btn btn-primary" onclick="verifyDID()">Verify DID</button>
            <button type="button" class="btn btn-info" onclick="generateDID()">Generate DID</button>
        </form> -->

        <!-- Verification Status -->
        <div id="verificationStatus" class="mt-3"></div>

        <!-- Generated DID -->
        <div id="generatedDID" class="mt-3"></div>

    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        // JavaScript for registration, verification, and DID generation

        // Simulate a simple in-memory database object
        var database = {
            users: []
        };

        function registerUser() {
            var phone = document.getElementById('phoneInput').value;
            var verificationDigits = document.getElementById('phoneVerificationInput').value;
            var registrationStatusDiv = document.getElementById('registrationStatus');

            // Simple check for phone number length and last 4 digits
            if (phone.length >= 4 && phone.substr(-4) === verificationDigits) {
                // Store the user phone in the "database"
                database.users.push({ phone: phone });
                registrationStatusDiv.innerHTML = `<p class="verified">Registration successful!</p>`;
            } else {
                registrationStatusDiv.innerHTML = `<p class="unverified">Registration failed: Incorrect phone number or verification digits.</p>`;
            }
        }

        function generateDID() {
            // ... Existing generateDID function
        }

        function verifyDID() {
            // ... Existing verifyDID function
        }
    </script>
</body>

</html>